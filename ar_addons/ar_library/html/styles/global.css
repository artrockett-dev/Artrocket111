/* Copyright (c) 2025 Artiom Gurduz
   SPDX-License-Identifier: LicenseRef-Proprietary
   Ownership remains with the author. Internal use by ART ROCKET is permitted. */
/* —— базовая раскладка —— */
:root{
  --arlib-accent:#F7931E;
  --arlib-ink:#01033E;
  --arlib-brd:#e1e1e6;
  --arlib-bkg:#ffffff;
  --arlib-bkg-2:#f7f7f8;
}

body{
  font-family: Arial, sans-serif;
  margin:0; padding:0;
  display:flex; flex-direction:column;
  height:100vh; color:#1f1f1f;
  background:var(--arlib-bkg);
}

/* —— шапка —— */
.header{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 16px;
  background:var(--arlib-bkg-2);
  border-bottom:1px solid #e7e7ea;
  gap:12px;
}

/* логотип словом */
.logo{
  min-width:140px; max-width:220px; width:18vw;
  height:auto; object-fit:contain;
}

/* —— поиск —— */
.search-bar{
  display:flex; align-items:center; gap:8px;
  border:1px solid var(--arlib-brd); border-radius:12px;
  padding:8px 12px;
  width: clamp(260px, 38vw, 480px);
  background:#fff;
  transition: box-shadow .2s, border-color .2s, background-color .2s;
}
.search-bar:focus-within{
  border-color: var(--arlib-accent);
  box-shadow: 0 0 0 3px rgba(247,147,30,.14);
  background:#fff;
}
.search-input{ border:none; outline:none; width:100%; font-size:14px; }
.search-input::placeholder{ color:#9aa0a6; }
.search-icon{
  width:18px; height:18px; cursor:pointer; opacity:.9;
  transition: transform .15s ease, filter .15s ease;
}
.search-icon:hover{ transform: scale(1.05); filter: drop-shadow(0 0 4px rgba(247,147,30,.45)); }

/* —— навигационные кнопки —— */
.nav-buttons{ display:flex; gap:8px; }
.icon-button{
  width:40px; height:40px; background:#fff;
  border:1px solid var(--arlib-brd); border-radius:10px;
  cursor:pointer; display:flex; align-items:center; justify-content:center;
  transition:border-color .2s, box-shadow .2s, transform .1s ease-out;
}
.icon-button img{ width:24px; height:24px; object-fit:contain; }
.icon-button:hover{ border-color:var(--arlib-ink); box-shadow:0 2px 10px rgba(1,3,62,.10); }
.icon-button:active{ transform: scale(.98); }
.icon-button:focus{ outline:none; border-color:var(--arlib-ink); box-shadow:0 0 0 3px rgba(1,3,62,.08); }

/* —— переключатели библиотек —— */
.library-buttons{ display:flex; gap:10px; padding:10px 16px 6px; }
.library-button{
  flex:1; height:34px;
  border:1px solid var(--arlib-brd); border-radius:12px;
  background:#fff; font-size:14px; color:#2b2b2e;
  cursor:pointer; transition:background-color .2s, box-shadow .2s, border-color .2s;
}
.library-button.active{ background:#fff; border-color:var(--arlib-ink); box-shadow:0 1px 8px rgba(1,3,62,.08); }
.library-button:hover, .library-button:focus{ background:#fff; border-color:var(--arlib-ink); outline:none; }

/* —— хлебные крошки —— */
.breadcrumbs{
  display:none; align-items:center; gap:8px;
  padding:6px 16px; min-height:28px;
  color:#2b2b2e; font-size:13px;
  background:#fafafa; border-top:1px solid #f0f0f3; border-bottom:1px solid #f0f0f3;
  position:relative; z-index:5; pointer-events:auto;
}
.breadcrumbs .crumb{
  cursor:pointer; user-select:none; color:var(--arlib-ink);
  border-radius:6px; padding:2px 6px; line-height:1.5;
  transition: background-color .15s, color .15s;
}
.breadcrumbs .crumb:hover{ background:rgba(247,147,30,.12); color:var(--arlib-ink); }
.breadcrumbs .sep{ color:#9aa0a6; }

/* Breadcrumb "+" control */
.crumb_plus{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  margin-left:.375rem;
  width:1.5rem; height:1.5rem;           /* bigger hit area */
  border:1px solid var(--bc,#dcdcdc);
  border-radius:9999px;
  font-weight:600;
  line-height:1;
  cursor:pointer;
  user-select:none;
}
.crumb_plus:hover{ background:var(--hover,#f6f6f6); }
.crumb_plus:focus-visible{
  outline:2px solid #2684ff; outline-offset:2px;
}


/* —— сетка плиток —— */
.grid{
  flex:1; display:flex; flex-wrap:wrap;
  gap:18px; padding:18px; overflow:auto;
  justify-content:center; align-content:flex-start;
}

/* плитки */
.folder-card, .component-card{
  display:flex; flex-direction:column; align-items:center;
  width:120px; text-align:center; cursor:pointer;
  transition:transform .2s, box-shadow .2s;
  position:relative;
}

/* изображения внутри плиток */
.folder-card img, .component-card img{
  width:120px; height:120px; object-fit:cover;
  border:1px solid var(--arlib-brd); background:#fff;
  transition:border-color .2s, box-shadow .2s, transform .2s, border-radius .2s;
  border-radius:12px;
}
.folder-card img{ border-radius:18px; }

/* glow у папок */
.folder-card img{
  box-shadow:
    0 0 0 1px rgba(247,147,30,.05),
    0 4px 12px rgba(247,147,30,.08);
}

/* подсказка клика только для компонентов */
.component-card::after{
  content:"";
  position:absolute;
  right:6px;
  top: calc(120px - 22px - 6px);
  width:22px; height:22px;
  background-image: url("../icons/tail_click.png");
  background-repeat:no-repeat;
  background-position:center;
  background-size:contain;
  opacity:0;
  pointer-events:none;
  transition: opacity .15s ease;
}
.component-card:hover::after{ opacity:.4; }

/* номер плитки (бейдж) */
.component-card[data-idx]::before{
  content: attr(data-idx);
  position:absolute;
  left:8px; top:8px; z-index:2;
  font-size:11px; font-weight:600; letter-spacing:.2px;
  color:#6b7280;
  padding:2px 6px;
  border-radius:8px;
  border:1px solid rgba(16,18,26,.06);
  background:rgba(255,255,255,.34);
  box-shadow:0 1px 4px rgba(0,0,0,.06),
             inset 0 0 0 1px rgba(255,255,255,.22);
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(3px);
}

/* альтернатива — .idx-badge */
.component-card .idx-badge{
  position:absolute;
  left:8px; top:8px; z-index:2;
  display:inline-block;
  font-size:11px; font-weight:600; letter-spacing:.2px;
  color:#6b7280;
  padding:2px 6px;
  border-radius:8px;
  border:1px solid rgba(16,18,26,.06);
  background:rgba(255,255,255,.34);
  box-shadow:0 1px 4px rgba(0,0,0,.06),
             inset 0 0 0 1px rgba(255,255,255,.22);
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(3px);
}

/* hover-эффекты */
.component-card:hover img{
  border-color:#dbdde9;
  box-shadow:0 4px 12px rgba(0,0,0,.10);
  transform:scale(1.03);
}
.folder-card:hover img{
  border-color:var(--arlib-accent);
  box-shadow:
    inset 0 0 0 1px rgba(247,147,30,.45),
    0 0 10px rgba(247,147,30,.30),
    0 6px 12px rgba(0,0,0,.10);
  transform:scale(1.03);
}

/* подписи */
.folder-name, .component-name{
  margin-top:8px; font-size:12px; color:#333; line-height:1.35;
  word-break: break-word;
}

/* режим «лупа» */
.component-card img.expanded{
  transform:scale(2); z-index:10;
  background-color:rgba(255,255,255,.05);
  border-radius:12px; backdrop-filter:blur(.2px);
  border-color:#e8eaf5;
}

/* загрузчик */
#loading{ display:none; text-align:center; font-size:16px; color:#666; }

/* скроллбары */
.grid::-webkit-scrollbar{ width:10px; height:10px; }
.grid::-webkit-scrollbar-track{ background:#f1f1f3; border-radius:8px; }
.grid::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, #F9B562, #F7931E);
  border-radius:8px; border:2px solid #f1f1f3;
}
.grid::-webkit-scrollbar-thumb:hover{
  background: linear-gradient(180deg, #F7A842, #E67F00);
}
.grid{ scrollbar-color:#F7931E #f1f1f3; scrollbar-width:thin; }

/* respect reduced motion */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; animation:none !important; }
}
